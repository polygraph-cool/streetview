const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../assets/index.BiJ-kt2L.css","../chunks/CM8BuYiJ.js","../chunks/BifLpx9Z.js","../assets/index.CgLs1xwj.css"])))=>i.map(i=>d[i]);
var Bt=t=>{throw TypeError(t)};var kt=(t,e,r)=>e.has(t)||Bt("Cannot "+r);var Z=(t,e,r)=>(kt(t,e,"read from private field"),r?r.call(t):e.get(t)),ot=(t,e,r)=>e.has(t)?Bt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Gt=(t,e,r,n)=>(kt(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Tt=(t,e,r)=>(kt(t,e,"access private method"),r);import"../chunks/CWj6FrbW.js";import{M as _e,K as we,ai as xe,b as be,E as Me,aD as ke,X as le,h as St,G as $t,d as qt,aB as Te,F as Se,N as Ee,a as Ne,c as Et,aE as Nt,p as Pe,e as je,a5 as Yt,a4 as Ut,aF as Xt,a6 as Ae,f as Ie,aG as Re,a1 as U,a2 as A,z as ct,aH as Le,k as p,y as bt,aI as ze,q as R,$ as B,A as Mt,u as yt,o as Pt,B as V,C as W,a3 as Ht,aJ as Fe,aK as Kt}from"../chunks/3vUWRX8K.js";import{t as nt,a as L,c as Q}from"../chunks/TZzUHlv0.js";import{w as Oe,d as Ce,a as jt}from"../chunks/C7huRxdZ.js";import{e as Ct,i as Dt,s as C,f as De,g as It,h as Zt,j as Ve,k as Jt,a as ue,l as We,b as Qt}from"../chunks/BcJQ66Zt.js";import{p as st}from"../chunks/BzeycbY9.js";import{b as fe,i as Rt}from"../chunks/ClKtEcp9.js";import{o as de}from"../chunks/q7Wl77X2.js";import{_ as ht}from"../chunks/Dp1pzeXC.js";import{d as Be}from"../chunks/BO6OmMcj.js";import{S as Ge,c as te}from"../chunks/DmuC3fwS.js";function $e(t,e,r=e){var n=t==="x",i=()=>Oe(()=>{s=!0,clearTimeout(o),o=setTimeout(l,100),r(window[n?"scrollX":"scrollY"])});addEventListener("scroll",i,{passive:!0});var s=!1,o,l=()=>{s=!1},c=!0;_e(()=>{var a=e();c?c=!1:!s&&a!=null&&(s=!0,clearTimeout(o),scrollTo(window.scrollX,a),o=setTimeout(l,100))}),we(i),xe(()=>{removeEventListener("scroll",i)})}function ee(t,e){var r=le,n=Ae,i=Ie;Yt(t),Ut(t),Xt(t.ctx);try{e()}finally{Yt(r),Ut(n),Xt(i)}}function me(t,e,r){var n=t,i;be(()=>{var s=le,o=qt,l=!1;s.fn=c=>{var a=e.onerror;let h=e.failed;if(!a&&!h||l)throw c;var u=()=>{Pe(i),ee(s,()=>{l=!1,i=Et(()=>r(n)),Nt()})};a==null||a(c,u),i?je(i):St&&($t(o),Te(),$t(Se())),h&&Ee(()=>{ee(s,()=>{l=!0;try{i=Et(()=>{h(n,()=>c,()=>u)})}catch(d){Re(d,s,null,s.ctx)}Nt(),l=!1})})},St&&Ne(),i=Et(()=>r(n)),Nt()},Me|ke),St&&(n=qt)}var qe=nt('<link rel="preload" as="font" type="font/woff2" crossorigin="">'),Ye=nt('<meta name="description"> <meta name="author" content="The Pudding"> <meta name="news_keywords"> <meta property="og:title"> <meta property="og:site_name" content="The Pudding"> <meta property="og:url"> <meta property="og:description"> <meta property="og:type" content="article"> <meta property="og:locale" content="en_US"> <meta property="og:image"> <meta property="og:image:type" content="image/jpeg"> <meta property="og:image:width" content="1200"> <meta property="og:image:height" content="628"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="https://pudding.cool"> <meta name="twitter:creator" content="@puddingviz"> <meta name="twitter:title"> <meta name="twitter:description"> <meta name="twitter:image:src"> <meta name="robots" content="max-image-preview:large"> <link rel="canonical"> <!>',1);function Ue(t,e){let r=st(e,"title",3,"Title TK"),n=st(e,"description",3,"Description TK"),i=st(e,"url",3,"https://pudding.cool"),s=st(e,"keywords",3,""),o=st(e,"preloadFont",19,()=>[]);Ce(l=>{var c=Ye(),a=U(c),h=A(a,4),u=A(h,2),d=A(u,4),g=A(d,2),w=A(g,6),S=A(w,14),_=A(S,2),x=A(_,2),k=A(x,4),b=A(k,2);Ct(b,17,o,Dt,(P,f)=>{var y=qe();ct(()=>C(y,"href",p(f))),L(P,y)}),ct(()=>{Le.title=r(),C(a,"content",n()),C(h,"content",s()),C(u,"content",r()),C(d,"content",i()),C(g,"content",n()),C(w,"content",`${i()??""}/assets/social-facebook.jpg`),C(S,"content",r()),C(_,"content",n()),C(x,"content",`${i()??""}/assets/social-twitter.jpg`),C(k,"href",`${i()??""}/`)}),L(l,c)})}const Xe=[{id:"carn",val:"1",x1:"156",y1:"898",x:"0.0380859375",y:"0.4384765625",form:"poly",text:""},{id:"carn",val:"1",x1:"176",y1:"898",x:"0.04296875",y:"0.4384765625",form:"poly",text:""},{id:"carn",val:"1",x1:"176",y1:"974",x:"0.04296875",y:"0.4755859375",form:"poly",text:""},{id:"carn",val:"1",x1:"156",y1:"973",x:"0.0380859375",y:"0.4750976563",form:"poly",text:""},{id:"carn",val:"1",x1:"156",y1:"898",x:"0.0380859375",y:"0.4384765625",form:"poly",text:""},{id:"carn",val:"1",x1:"156",y1:"898",x:"0.0380859375",y:"0.4384765625",form:"text",text:"carniceria hispana"}];function vt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function he(t){let e,r,n;t.length!==2?(e=vt,r=(l,c)=>vt(t(l),c),n=(l,c)=>t(l)-c):(e=t===vt||t===Be?t:He,r=t,n=t);function i(l,c,a=0,h=l.length){if(a<h){if(e(c,c)!==0)return h;do{const u=a+h>>>1;r(l[u],c)<0?a=u+1:h=u}while(a<h)}return a}function s(l,c,a=0,h=l.length){if(a<h){if(e(c,c)!==0)return h;do{const u=a+h>>>1;r(l[u],c)<=0?a=u+1:h=u}while(a<h)}return a}function o(l,c,a=0,h=l.length){const u=i(l,c,a,h-1);return u>a&&n(l[u-1],c)>-n(l[u],c)?u-1:u}return{left:i,center:o,right:s}}function He(){return 0}function Ke(t){return t===null?NaN:+t}const Ze=he(vt),Je=Ze.right;he(Ke).center;const Qe=Math.sqrt(50),tn=Math.sqrt(10),en=Math.sqrt(2);function _t(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Qe?10:s>=tn?5:s>=en?2:1;let l,c,a;return i<0?(a=Math.pow(10,-i)/o,l=Math.round(t*a),c=Math.round(e*a),l/a<t&&++l,c/a>e&&--c,a=-a):(a=Math.pow(10,i)*o,l=Math.round(t/a),c=Math.round(e/a),l*a<t&&++l,c*a>e&&--c),c<l&&.5<=r&&r<2?_t(t,e,r*2):[l,c,a]}function nn(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?_t(e,t,r):_t(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let a=0;a<l;++a)c[a]=(s-a)/-o;else for(let a=0;a<l;++a)c[a]=(s-a)*o;else if(o<0)for(let a=0;a<l;++a)c[a]=(i+a)/-o;else for(let a=0;a<l;++a)c[a]=(i+a)*o;return c}function Lt(t,e,r){return e=+e,t=+t,r=+r,_t(t,e,r)[2]}function rn(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Lt(e,t,r):Lt(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function an(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function on(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function sn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cn(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Vt(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function ln(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function un(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Vt(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}function Vt(t,e){var r=typeof e,n;return e==null||r==="boolean"?De(e):(r==="number"?It:r==="string"?(n=Jt(e))?(e=n,Zt):Ve:e instanceof Jt?Zt:e instanceof Date?ln:sn(e)?on:Array.isArray(e)?cn:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?un:It)(t,e)}function fn(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function dn(t){return function(){return t}}function mn(t){return+t}var ne=[0,1];function J(t){return t}function zt(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:dn(isNaN(e)?NaN:.5)}function hn(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function pn(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=zt(i,n),s=r(o,s)):(n=zt(n,i),s=r(s,o)),function(l){return s(n(l))}}function gn(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=zt(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=Je(t,l,1,n)-1;return s[c](i[c](l))}}function vn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yn(){var t=ne,e=ne,r=Vt,n,i,s,o=J,l,c,a;function h(){var d=Math.min(t.length,e.length);return o!==J&&(o=hn(t[0],t[d-1])),l=d>2?gn:pn,c=a=null,u}function u(d){return d==null||isNaN(d=+d)?s:(c||(c=l(t.map(n),e,r)))(n(o(d)))}return u.invert=function(d){return o(i((a||(a=l(e,t.map(n),It)))(d)))},u.domain=function(d){return arguments.length?(t=Array.from(d,mn),h()):t.slice()},u.range=function(d){return arguments.length?(e=Array.from(d),h()):e.slice()},u.rangeRound=function(d){return e=Array.from(d),r=fn,h()},u.clamp=function(d){return arguments.length?(o=d?!0:J,h()):o!==J},u.interpolate=function(d){return arguments.length?(r=d,h()):r},u.unknown=function(d){return arguments.length?(s=d,u):s},function(d,g){return n=d,i=g,h()}}function _n(){return yn()(J,J)}function wn(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wt(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function et(t){return t=wt(Math.abs(t)),t?t[1]:NaN}function xn(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function bn(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Mn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xt(t){if(!(e=Mn.exec(t)))throw new Error("invalid format: "+t);var e;return new Wt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xt.prototype=Wt.prototype;function Wt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Wt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kn(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var pe;function Tn(t,e){var r=wt(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(pe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+wt(t,Math.max(0,e+s-1))[0]}function re(t,e){var r=wt(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ie={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wn,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>re(t*100,e),r:re,s:Tn,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ae(t){return t}var oe=Array.prototype.map,se=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sn(t){var e=t.grouping===void 0||t.thousands===void 0?ae:xn(oe.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ae:bn(oe.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function a(u){u=xt(u);var d=u.fill,g=u.align,w=u.sign,S=u.symbol,_=u.zero,x=u.width,k=u.comma,b=u.precision,P=u.trim,f=u.type;f==="n"?(k=!0,f="g"):ie[f]||(b===void 0&&(b=12),P=!0,f="g"),(_||d==="0"&&g==="=")&&(_=!0,d="0",g="=");var y=S==="$"?r:S==="#"&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",E=S==="$"?n:/[%p]/.test(f)?o:"",z=ie[f],G=/[defgprs%]/.test(f);b=b===void 0?6:/[gprs]/.test(f)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function $(m){var T=y,v=E,N,q,I;if(f==="c")v=z(m)+v,m="";else{m=+m;var D=m<0||1/m<0;if(m=isNaN(m)?c:z(Math.abs(m),b),P&&(m=kn(m)),D&&+m==0&&w!=="+"&&(D=!1),T=(D?w==="("?w:l:w==="-"||w==="("?"":w)+T,v=(f==="s"?se[8+pe/3]:"")+v+(D&&w==="("?")":""),G){for(N=-1,q=m.length;++N<q;)if(I=m.charCodeAt(N),48>I||I>57){v=(I===46?i+m.slice(N+1):m.slice(N))+v,m=m.slice(0,N);break}}}k&&!_&&(m=e(m,1/0));var F=T.length+m.length+v.length,j=F<x?new Array(x-F+1).join(d):"";switch(k&&_&&(m=e(j+m,j.length?x-v.length:1/0),j=""),g){case"<":m=T+m+v+j;break;case"=":m=T+j+m+v;break;case"^":m=j.slice(0,F=j.length>>1)+T+m+v+j.slice(F);break;default:m=j+T+m+v;break}return s(m)}return $.toString=function(){return u+""},$}function h(u,d){var g=a((u=xt(u),u.type="f",u)),w=Math.max(-8,Math.min(8,Math.floor(et(d)/3)))*3,S=Math.pow(10,-w),_=se[8+w/3];return function(x){return g(S*x)+_}}return{format:a,formatPrefix:h}}var pt,ge,ve;En({thousands:",",grouping:[3],currency:["$",""]});function En(t){return pt=Sn(t),ge=pt.format,ve=pt.formatPrefix,pt}function Nn(t){return Math.max(0,-et(Math.abs(t)))}function Pn(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(et(e)/3)))*3-et(Math.abs(t)))}function jn(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,et(e)-et(t))+1}function An(t,e,r,n){var i=rn(t,e,r),s;switch(n=xt(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Pn(i,o))&&(n.precision=s),ve(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=jn(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Nn(i))&&(n.precision=s-(n.type==="%")*2);break}}return ge(n)}function In(t){var e=t.domain;return t.ticks=function(r){var n=e();return nn(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return An(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,a,h=10;for(l<o&&(a=o,o=l,l=a,a=i,i=s,s=a);h-- >0;){if(a=Lt(o,l,r),a===c)return n[i]=o,n[s]=l,e(n);if(a>0)o=Math.floor(o/a)*a,l=Math.ceil(l/a)*a;else if(a<0)o=Math.ceil(o*a)/a,l=Math.floor(l*a)/a;else break;c=a}return t},t}function Ft(){var t=_n();return t.copy=function(){return vn(t,Ft())},an.apply(t,arguments),In(t)}var Rn=nt('<div id="viewer" class="svelte-bjpg5e"></div>');function Ln(t,e){bt(e,!0);let r,n,i=B(0),s=B(!1),o=Ft().domain([0,1]).range([0,Math.PI*2]),l=Ft().domain([0,1]).range([Math.PI/2,-Math.PI/2]),c=[];function a(){let u=Xe.reduce((d,g)=>(d[g.id]||(d[g.id]={id:g.id,polygon:[],text:null}),g.form==="poly"?d[g.id].polygon.push({yaw:o(g.x)+Math.PI,pitch:l(g.y)}):g.form==="text"&&(d[g.id].text=g.text),d),{});c=Object.values(u).map(d=>{let g=[];if(d.polygon.length>0&&g.push({id:`${d.id}-polygon`,className:"fade",polygon:d.polygon.map(w=>[w.yaw,w.pitch]),svgStyle:{stroke:"rgba(255, 0, 50, 0.8)",strokeWidth:"2px",marginLeft:"-1px",opacity:null,strokeOpacity:"none",fill:"none"}}),d.text){const w=d.polygon[0]||{yaw:0,pitch:0};g.push({id:`${d.id}-text`,className:"fade",position:w,html:`<div>${d.text}</div>`,anchor:"bottom left",scale:{zoom:[1,1],yaw:[1,1.5],pitch:[1,1.5]},style:{maxWidth:"100px",color:"white",opacity:null,marginLeft:"-1px",paddingLeft:"5px",paddingRight:"5px",backgroundColor:"red",fontSize:"10px",fontFamily:"Helvetica, sans-serif",textAlign:"center"}})}return g}).flat(),console.log("Parsed markers:",c)}ze(()=>{yt(()=>{const u=e.coords;n&&u&&(n.rotate({yaw:u[0],pitch:u[1]}),n.zoom(e.zoom))})}),de(async()=>{a(),console.log(c);try{const[{Viewer:u},d,{MarkersPlugin:g},w]=await Promise.all([ht(()=>import("../chunks/BifLpx9Z.js"),[],import.meta.url),ht(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),ht(()=>import("../chunks/CM8BuYiJ.js"),__vite__mapDeps([1,2]),import.meta.url),ht(()=>Promise.resolve({}),__vite__mapDeps([3]),import.meta.url)]);n=new u({container:r,panorama:e.panoramaUrl,navbar:!1,loading_html:null,loading_img:null,defaultPitch:6.18,defaultYaw:-.002,plugins:[[g,{markers:c}]]}),n.addEventListener("panorama-loaded",S=>{R(i,1),R(s,!0)}),n.addEventListener("ready",()=>{console.log(n.getPosition()),n.rotate({yaw:e.coords[0],pitch:e.coords[1]})})}catch(u){console.error("Failed to load photo sphere viewer:",u)}return()=>{n&&n.destroy()}});var h=Rn();fe(h,u=>r=u,()=>r),ct(()=>ue(h,`opacity: ${p(i)??""}; transition: opacity 0.5s ease-in-out;`)),L(t,h),Mt()}var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var At,ce;function Fn(){if(ce)return At;ce=1;var t="Expected a function",e=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof gt=="object"&&gt&&gt.Object===Object&&gt,a=typeof self=="object"&&self&&self.Object===Object&&self,h=c||a||Function("return this")(),u=Object.prototype,d=u.toString,g=Math.max,w=Math.min,S=function(){return h.Date.now()};function _(f,y,E){var z,G,$,m,T,v,N=0,q=!1,I=!1,D=!0;if(typeof f!="function")throw new TypeError(t);y=P(y)||0,x(E)&&(q=!!E.leading,I="maxWait"in E,$=I?g(P(E.maxWait)||0,y):$,D="trailing"in E?!!E.trailing:D);function F(M){var O=z,K=G;return z=G=void 0,N=M,m=f.apply(K,O),m}function j(M){return N=M,T=setTimeout(H,y),q?F(M):m}function X(M){var O=M-v,K=M-N,Y=y-O;return I?w(Y,$-K):Y}function dt(M){var O=M-v,K=M-N;return v===void 0||O>=y||O<0||I&&K>=$}function H(){var M=S();if(dt(M))return rt(M);T=setTimeout(H,X(M))}function rt(M){return T=void 0,D&&z?F(M):(z=G=void 0,m)}function it(){T!==void 0&&clearTimeout(T),N=0,z=v=G=T=void 0}function mt(){return T===void 0?m:rt(S())}function at(){var M=S(),O=dt(M);if(z=arguments,G=this,v=M,O){if(T===void 0)return j(v);if(I)return T=setTimeout(H,y),F(v)}return T===void 0&&(T=setTimeout(H,y)),m}return at.cancel=it,at.flush=mt,at}function x(f){var y=typeof f;return!!f&&(y=="object"||y=="function")}function k(f){return!!f&&typeof f=="object"}function b(f){return typeof f=="symbol"||k(f)&&d.call(f)==r}function P(f){if(typeof f=="number")return f;if(b(f))return e;if(x(f)){var y=typeof f.valueOf=="function"?f.valueOf():f;f=x(y)?y+"":y}if(typeof f!="string")return f===0?f:+f;f=f.replace(n,"");var E=s.test(f);return E||o.test(f)?l(f.slice(2),E?2:8):i.test(f)?e:+f}return At=_,At}var On=Fn();const Cn=zn(On);function Dn(){var t;return((t=window==null?void 0:window.visualViewport)==null?void 0:t.width)||document.documentElement.clientWidth}function Vn(){var t;return((t=window==null?void 0:window.visualViewport)==null?void 0:t.height)||document.documentElement.clientHeight}var lt,ut,tt,ft,Ot;class Wn{constructor(e=250){ot(this,ft);ot(this,lt,B(0));ot(this,ut,B(0));ot(this,tt);yt(()=>(Tt(this,ft,Ot).call(this),Gt(this,tt,Cn(Tt(this,ft,Ot).bind(this),e)),window==null||window.visualViewport.addEventListener("resize",Z(this,tt)),()=>{window==null||window.visualViewport.removeEventListener("resize",Z(this,tt))}))}get width(){return p(Z(this,lt))}get height(){return p(Z(this,ut))}}lt=new WeakMap,ut=new WeakMap,tt=new WeakMap,ft=new WeakSet,Ot=function(){R(Z(this,lt),Dn(),!0),R(Z(this,ut),Vn(),!0)};var Bn=nt('<div><div class="text-wrapper svelte-1s8e3i5"><p class="text-fg svelte-1s8e3i5" style="opacity: 1"><span class="text-inner svelte-1s8e3i5"> </span></p> <p aria-hidden="true" class="text-bg svelte-1s8e3i5" style="opacity: 1"><span class="text-inner svelte-1s8e3i5"> </span></p></div></div>'),Gn=nt('<div class="wrapper svelte-1s8e3i5"><div><p class="moving svelte-1s8e3i5"> </p> <!></div> <div class="text svelte-1s8e3i5"><!></div></div>');function $n(t,e){bt(e,!0);let r={},n=B(!1),i=B(50),s={};de(()=>{console.log(e.props.slides),e.props.slides.forEach((_,x)=>{r[x]=_.coords.split(",").map(k=>+k),s[x]=+_.zoom}),R(n,!0)});let o=Pt([]),l=B(0),c=B(void 0),a=B(Pt([])),h=new Wn,u=B(Pt([0,0]));yt(()=>{if(p(n)){if(p(c)===void 0||p(c)===null){R(u,r[0],!0),R(i,50);return}const _=s[p(c)]?s[p(c)]:50,x=s[p(c)-1]??_,k=r[p(c)]??r[0],b=r[p(c)-1]??k,P=p(a)[p(c)]??0,f=We(P),y=b[0]+(k[0]-b[0])*f,E=b[1]+(k[1]-b[1])*f;R(i,x+(_-x)*f),R(u,[y,E],!0)}});function d(_,x,k){return Math.max(Math.min(_,k),x)}yt(()=>{R(a,o.map((_,x)=>{const k=_.getBoundingClientRect().top+window.scrollY;_.getBoundingClientRect().height;const b=k-h.height,P=k;let f=p(l)-b;f=d(f,0,P-b);let y=f/(P-b);return d(y,0,1)}),!0)});const g=`assets/images/${e.props.panorama_id}.jpg`;var w=Q(),S=U(w);me(S,{onerror:_=>console.error(_)},_=>{var x=Q(),k=U(x);{var b=P=>{var f=Gn(),y=V(f),E=V(y),z=V(E);W(E);var G=A(E,2);{var $=v=>{const N=Ht(()=>p(i)?p(i):50);Ln(v,{panoramaUrl:g,get coords(){return p(u)},get zoom(){return p(N)}})};Rt(G,v=>{p(u)&&v($)})}W(y);var m=A(y,2),T=V(m);Ge(T,{top:-100,bottom:-100,increments:10,get value(){return p(c)},set value(v){R(c,v,!0)},children:(v,N)=>{var q=Q(),I=U(q);Ct(I,17,()=>e.props.slides,Dt,(D,F,j)=>{var X=Bn();const dt=Ht(()=>p(c)===j);let H;var rt=V(X),it=V(rt),mt=V(it),at=V(mt,!0);W(mt),W(it);var M=A(it,2),O=V(M),K=V(O,!0);W(O),W(M),W(rt),W(X),fe(X,(Y,ye)=>o[ye]=Y,Y=>o==null?void 0:o[Y],()=>[j]),ct(Y=>{H=Qt(X,1,"step scrolly-block svelte-1s8e3i5",null,H,Y),jt(at,p(F).text),jt(K,p(F).text)},[()=>({active:p(dt)})]),L(D,X)}),L(v,q)},$$slots:{default:!0}}),W(m),W(f),ct((v,N)=>{Qt(y,1,`container value-${p(c)??""}`,"svelte-1s8e3i5"),ue(E,`left: ${p(u)[0]??""}%; background:black;color:white; font-family: monospace;`),jt(z,`Value: ${p(c)??""}, Progress: ${v??""}, Position: ${N??""}`)},[()=>p(a)[p(c)]?p(a)[p(c)].toFixed(6):"0.00",()=>p(u).map(v=>v.toFixed(6)).join(", ")]),L(P,f)};Rt(k,P=>{p(n)&&P(b)})}L(_,x)}),$e("y",()=>p(l),_=>R(l,_,!0)),L(t,w),Mt()}function qn(t,e){bt(e,!0);let r=Fe("copy");var n=Q(),i=U(n);me(i,{onerror:s=>console.error(s)},s=>{var o=Q(),l=U(o);Ct(l,17,()=>r.body||[],Dt,(c,a)=>{let h=()=>p(a).type,u=()=>p(a).value;var d=Q(),g=U(d);{var w=S=>{$n(S,{get props(){return u()}})};Rt(g,S=>{h()==="intro"&&S(w)})}L(c,d)}),L(s,o)}),L(t,n),Mt()}function Yn(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 6.12.0"),console.log("build: 2025-06-11-10:32"),console.log("--- --- --- --- --- ---")}var Un=nt("<!> <!>",1);function or(t,e){bt(e,!0),Yn();const r=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Regular-Web.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Bold-Web.woff2"],{title:n,description:i,url:s,keywords:o}=te;Kt("copy",te),Kt("data",e.data);var l=Un(),c=U(l);Ue(c,{title:n,description:i,url:s,preloadFont:r,keywords:o});var a=A(c,2);qn(a,{}),L(t,l),Mt()}export{or as component};
